Bootstrap: docker
From: ufscar/ubuntu_ompi:latest

%help
Exemplo para uso no cluster openHPC da UFSCar de ubuntu com OpenMPI

%files
  # Copie seus arquivos
  ./example/* /opt

%post
  # Execute comandos na criação do container, por exemplo para compilar seus programas
  echo "Compilando programas..."
  cd /opt && mpicc hello.c -o hello

%runscript
  # Execute comandos na execução do container
  /opt/hello

%test
  # Teste a criação do container
  [ -f /opt/hello ] && echo "\e[31mArquivo hello existe!\e[0m" || echo "\e[31m\aERRO: Arquivo hello não existe!\e[0m"
